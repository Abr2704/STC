<!DOCTYPE html>
<html lang="en">
  <head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <title>Apply Now - Specialist Technical College</title>
    <meta name="verify-paysera" content="6cc8cf82b61376b01ba8b6b2b52334d5">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
    /* RESET */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: Arial, Helvetica, sans-serif;
      background: #e4e8f0;
      color: #333;
      line-height: 1.5;
    }

    a { color: #0057a3; text-decoration: none; }
    a:hover { text-decoration: underline; }

    .page-wrapper {
      max-width: 1080px;
      margin: 20px auto;
      background: #ffffff;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);
      overflow: hidden;
    }

    /* HEADER — LOGO + TAGLINE LEFT ALIGNED */
    .site-header {
      background: linear-gradient(to bottom, #1a5fa7, #0c3f74);
      color: #ffffff;
      padding: 15px 20px;
      text-align: left;     /* << ABSOLUTE FIX */
    }

    .site-header-inner {
      display: flex;
      flex-direction: column;
      align-items: flex-start;  /* << FORCE LEFT ALIGN */
      gap: 8px;
    }

    .site-logo {
      height: 75px;
      width: auto;
      max-width: 100%;
    }

    .site-subtitle {
      font-size: 14px;
      opacity: 0.95;
      color: #ffffff;
      text-align: left;   /* ensure subtitle stays left */
    }

    /* NAVIGATION — BOTTOM YELLOW LINE ONLY */
    .main-nav {
      background: #0c3f74;
      border-bottom: 3px solid #f7c948;
      position: relative;
    }

    .main-nav ul {
      display: flex;
      flex-wrap: wrap;
      list-style: none;
      transition: max-height 0.3s ease;
    }

    .main-nav li {
      border-right: 1px solid rgba(255, 255, 255, 0.1);
    }

    .main-nav a {
      display: block;
      padding: 10px 16px;
      font-size: 14px;
      color: #ffffff;
      font-weight: bold;
    }

    .main-nav a:hover,
    .main-nav a.active {
      background: #f7c948;
      color: #0c3f74;
      text-decoration: none;
    }

    .nav-toggle {
      display: none;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      width: 100%;
      padding: 12px 16px;
      background: transparent;
      border: 0;
      color: #ffffff;
      font-size: 15px;
      font-weight: bold;
      cursor: pointer;
    }

    .nav-toggle:focus {
      outline: 2px solid #f7c948;
      outline-offset: 2px;
    }

    .nav-toggle .hamburger {
      width: 22px;
      height: 2px;
      background: #ffffff;
      position: relative;
    }

    .nav-toggle .hamburger::before,
    .nav-toggle .hamburger::after {
      content: "";
      position: absolute;
      left: 0;
      width: 22px;
      height: 2px;
      background: #ffffff;
      transition: transform 0.2s ease;
    }

    .nav-toggle .hamburger::before { top: -6px; }
    .nav-toggle .hamburger::after { top: 6px; }

    /* CONTENT AREA */
    .content-wrapper {
      display: flex;
      flex-wrap: wrap;
      padding: 20px;
      gap: 20px;
    }

    .main-content {
      flex: 1 1 60%;
      min-width: 260px;
    }

    .sidebar {
      flex: 1 1 30%;
      min-width: 220px;
    }

    .box {
      background: #f7f9fc;
      border: 1px solid #d4dce8;
      border-radius: 6px;
      padding: 18px 20px;
      margin-bottom: 15px;
    }

    .box h2 {
      font-size: 18px;
      margin-bottom: 8px;
      color: #0c3f74;
    }

    .box h3 {
      font-size: 16px;
      margin-bottom: 6px;
      color: #0c3f74;
    }

    .box ul {
      list-style: disc;
      padding-left: 20px;
      margin-top: 5px;
    }

    .highlight {
      background: #fffbe6;
      border-color: #f7c948;
    }

    .subject-links a {
      display: inline-block;
      margin: 3px 4px 3px 0;
      padding: 6px 10px;
      border-radius: 3px;
      border: 1px solid #d4dce8;
      background: #ffffff;
      font-size: 13px;
    }

    .subject-links a:hover {
      background: #f7c948;
      border-color: #f7c948;
      color: #0c3f74;
      text-decoration: none;
    }

    .btn {
      display: inline-block;
      padding: 8px 14px;
      border-radius: 3px;
      font-size: 14px;
      font-weight: bold;
      text-decoration: none;
      border: 1px solid transparent;
    }

    .btn-primary {
      background: #0c3f74;
      color: #ffffff;
      border-color: #0c3f74;
    }

    .btn-primary:hover {
      background: #f7c948;
      color: #0c3f74;
      border-color: #f7c948;
      text-decoration: none;
    }

    .btn-secondary {
      background: #ffffff;
      color: #0c3f74;
      border-color: #d4dce8;
    }

    .btn-secondary:hover {
      background: #f7c948;
      color: #0c3f74;
      border-color: #f7c948;
      text-decoration: none;
    }

    /* FOOTER */
    .site-footer {
      background: #f4f4f4;
      border-top: 1px solid #d9d9d9;
      padding: 10px 20px;
      font-size: 12px;
      color: #555;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 10px;
    }

    /* MOBILE */
    @media (max-width: 840px) {
      .page-wrapper {
        margin: 12px;
        border-radius: 8px;
      }

      .site-header {
        padding: 12px 16px;
        text-align: center;
      }

      .site-header-inner {
        align-items: center;
      }

      .site-logo {
        height: auto;
        max-height: 78px;
        max-width: min(360px, 100%);
      }

      .content-wrapper {
        flex-direction: column;
        padding: 16px;
      }

      .sidebar {
        min-width: 0;
      }

      .main-nav ul {
        flex-direction: column;
        width: 100%;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
      }

      .main-nav ul.collapsed {
        display: none;
      }

      .main-nav ul.open {
        display: flex;
      }

      .main-nav li {
        border-right: 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .main-nav a {
        padding: 12px 16px;
      }

      .nav-toggle {
        display: flex;
      }
    }

  </style>
  </head>
  <body>
    <div class="page-wrapper">
      <!-- HEADER WITH LEFT-ALIGNED LOGO + TAGLINE -->
      <header class="site-header">
        <div class="site-header-inner"> <img src="/stc.png"
            alt="Specialist Technical College Logo" class="site-logo"> </div>
      </header>
      <!-- NAVIGATION -->
      <nav class="main-nav"> <button class="nav-toggle"
          aria-expanded="false" aria-controls="main-menu"> Menu <span
            class="hamburger" aria-hidden="true"></span> </button>
        <ul id="main-menu">
          <li><a href="/index.html">Home</a></li>
          <li><a href="/about.html">About the College</a></li>
          <li><a href="/l3.html">Level 3 (A-Level Equivalent)</a></li>
          <li><a href="/hnd.html">Level 4 &amp; 5 (University Level)</a></li>
          <li><a href="/bsc.html">Final Year BSc (Top-Up)</a></li>
          <li><a href="/contact.html">Contact Us</a></li>
        </ul>
      </nav>
      <!-- MAIN PAGE CONTENT -->
      <div class="content-wrapper">
        <div class="main-content">
          <div class="box highlight">
            <h1>Apply Now</h1>
            <p> Please complete all sections of this form so we can
              process your application. Fields marked with <span
                style="color:#c00">*</span> are required. </p>
            <p style="margin-top:8px;font-size:13px;color:#555;"> This
              single-page form emails your details to our admissions
              team via FormSubmit and then directs you to Paysera to pay
              the €250 application fee. We match your payment
              automatically—no manual reference is needed. </p>
          </div>
          <style>
      /* Apply Now form styling (page-specific) */
      .apply-form fieldset {
        border: none;
        padding: 0;
        margin: 0 0 18px 0;
      }

      .apply-form legend {
        font-weight: bold;
        font-size: 16px;
        color: #0c3f74;
        margin-bottom: 8px;
      }

      .apply-form .form-row {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-bottom: 10px;
      }

      .apply-form .form-group {
        flex: 1 1 180px;
        min-width: 160px;
      }

      .apply-form label {
        display: block;
        font-size: 14px;
        margin-bottom: 3px;
      }

      .apply-form input[type="text"],
      .apply-form input[type="email"],
      .apply-form input[type="tel"],
      .apply-form input[type="date"],
      .apply-form input[type="file"],
      .apply-form select,
      .apply-form textarea {
        width: 100%;
        padding: 6px 8px;
        border-radius: 3px;
        border: 1px solid #d4dce8;
        font-size: 14px;
      }

      .apply-form textarea {
        min-height: 70px;
        resize: vertical;
      }

      .apply-form .inline-options {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        font-size: 14px;
      }

      .apply-form .inline-options label {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        margin-bottom: 4px;
      }

      .apply-form small {
        display: block;
        font-size: 12px;
        color: #666;
        margin-top: 2px;
      }

      .apply-form .section-note {
        font-size: 13px;
        color: #555;
        margin-bottom: 6px;
      }

      .apply-form .disability-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
        gap: 8px 16px;
      }

      .apply-form .disability-grid label {
        font-size: 13px;
      }

      .form-actions {
        margin-top: 16px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: flex-end;
      }

      .form-actions .btn {
        min-width: 140px;
        text-align: center;
      }

      @media (max-width: 640px) {
        .apply-form .form-group {
          flex: 1 1 100%;
        }
        .form-actions {
          flex-direction: column;
          align-items: stretch;
        }
      }
      </style>
              <div class="box">
                <p class="section-note">Submitting this form will email your
                  details directly to our admissions team. You'll also be
                  able to pay the €250 application fee through Paysera.</p>
                <form class="apply-form"
                  action="https://formsubmit.co/info@specialist.college"
                  method="POST">
                  <input type="hidden" name="_next" id="formsubmit-next"
                    value="https://www.paysera.com/pay/">
                  <input type="hidden" name="_subject"
                    value="New STC application submission">
                  <input type="hidden" name="_captcha" value="false">
                  <input type="hidden" name="orderid" id="orderid" value="">

                  <fieldset>
                    <legend>Course Information</legend>
                    <div class="form-row">
                      <div class="form-group"> <label for="first_choice">Select
                          Course <span style="color:#c00">*</span></label>
                        <select id="first_choice" name="first_choice"
                          required="">
                          <option value="" selected="selected">Select a
                            course</option>
                          <option value="Level 3 IT (Diploma - BCS)">Level 3
                            IT (Diploma - BCS)</option>
                          <option value="Level 3 Award in Cyber Security
                            (ATHE)">Level 3 Award in Cyber Security (ATHE)</option>
                          <option value="Level 4">Level 4</option>
                          <option value="Level 5">Level 5</option>
                        </select>
                      </div>
                    </div>
                  </fieldset>

                  <fieldset>
                    <legend>Your Education &amp; Qualifications</legend>
                    <div class="form-row">
                      <div class="form-group"> <label
                          for="highest_qualification">Current Highest Level
                          of Qualification</label>
                        <select id="highest_qualification"
                          name="highest_qualification">
                          <option value="" selected="selected">Please select</option>
                          <option value="Level 2 (GCSE)">Level 2 (GCSE)</option>
                          <option value="Level 3 (T-Level or A-Level)">Level
                            3 (T-Level or A-Level)</option>
                          <option value="Level 4 (HNC, first year of
                            degree)">Level 4 (HNC, first year of degree
                            etc.)</option>
                          <option value="Other qualification, level not
                            known (Kosovo qualification)">Other
                            qualification, level not known (Kosovo
                            qualification)</option>
                        </select>
                      </div>
                    </div>
                  </fieldset>

                  <fieldset>
                    <legend>Applicant Details</legend>
                    <div class="form-row">
                      <div class="form-group"> <label for="full_name">Full
                          Name <span style="color:#c00">*</span></label> <input
                          id="full_name" name="full_name" required=""
                          type="text"> </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group"> <label for="dob">Date of
                          Birth <span style="color:#c00">*</span></label> <input
                          id="dob" name="dob" required="" type="date"> </div>
                      <div class="form-group"> <label>Gender <span
                            style="color:#c00">*</span></label>
                        <div class="inline-options"> <label for="gender_male"> <input
                              id="gender_male" name="gender" required=""
                              type="radio" value="male"> Male </label> <label
                            for="gender_female"> <input id="gender_female"
                              name="gender" required="" type="radio"
                              value="female"> Female </label> <label
                            for="gender_other"> <input id="gender_other"
                              name="gender" required="" type="radio"
                              value="other"> Prefer to self-describe </label> </div>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="form-group"> <label for="contact_number">Contact
                          Number (including country code) <span
                            style="color:#c00">*</span></label> <input
                          id="contact_number" name="contact_number"
                          required="" type="tel"> </div>
                      <div class="form-group"> <label for="email">Email
                          Address <span style="color:#c00">*</span></label>
                        <input id="email" name="email" required=""
                          type="email"> </div>
                    </div>
                  </fieldset>

                  <fieldset>
                    <legend>Payment</legend>
                    <p class="section-note"> A €250 application payment is
                      required and will be offset against your tuition fee.
                      After submitting the form, you'll be taken to Paysera
                      to complete the payment securely. You won't need to
                      copy or paste any payment reference—we'll match it
                      automatically. </p>
                    <p class="section-note" style="margin-top:8px;"> Your
                      Paysera project ID <strong>254450</strong> is used to generate a
                      signed redirect on the server (your secret password never
                      leaves the backend). We generate a fresh order ID,
                      request a signed Paysera link from the server, and send
                      you to Paysera immediately after the FormSubmit email is
                      sent. The Paysera link is only created when the form is
                      valid and submitted, so payment and submission stay
                      together. </p>
                  </fieldset>

                  <div class="form-actions"> <button type="reset"
                      class="btn btn-secondary">Clear All</button> <button
                      type="submit" class="btn btn-primary" id="submit-paysera">Submit
                      Application &amp; Pay €250</button> </div>
                </form>
              </div>
        </div>
        <div class="sidebar">
          <div class="box">
            <h2>Need Help with Your Application?</h2>
            <p> If you have any questions about completing this form or
              about our courses, please contact our admissions team: </p>
            <ul>
              <li>Email: <a href="mailto:info@specialist.college">info@specialist.college</a></li>
              <li>Phone: 00000 000000</li>
            </ul>
          </div>
          <div class="box">
            <h2>Before You Apply</h2>
              <ul>
                <li>Check the entry requirements for your chosen course.</li>
                <li>Keep your previous qualifications and ID handy for
                  verification.</li>
                <li>Make sure your contact details are correct.</li>
              </ul>
          </div>
        </div>
      </div>
      <!-- FOOTER -->
      <footer class="site-footer">
        <div>© Specialist Technical College. All rights reserved.</div>
        <div>Email: <a href="mailto:info@specialist.college">info@specialist.college</a></div>
      </footer>
    </div>
    <script>
      (function() {
        const form = document.querySelector('.apply-form');
        const nextField = document.getElementById('formsubmit-next');
        const orderField = document.getElementById('orderid');
        const submitButton = document.getElementById('submit-paysera');

        if (!form || !nextField) {
          return;
        }

        async function fetchPayseraUrl(formData, orderId) {
          const payload = {
            orderId,
            email: formData.get('email') || '',
            fullName: formData.get('full_name') || '',
            phone: formData.get('contact_number') || '',
          };

          async function callEndpoint(method) {
            let url = '/libwebtopay/sign.php';
            const options = { method };

            if (method === 'POST') {
              options.headers = { 'Content-Type': 'application/json' };
              options.body = JSON.stringify(payload);
            } else {
              const query = new URLSearchParams(payload).toString();
              url = `${url}?${query}`;
              options.headers = { Accept: 'application/json' };
            }

            const response = await fetch(url, options);
            return { response, url };
          }

          async function parseError(response) {
            let message = '';
            const contentType = response.headers.get('content-type') || '';

            if (contentType.includes('application/json')) {
              const error = await response.json().catch(() => null);
              message = error && typeof error.error === 'string' ? error.error : '';
            }

            if (!message) {
              const body = await response.text().catch(() => '');
              message = body.trim();
            }

            const fallback = `Unable to generate Paysera link (status ${response.status})`;
            return message || fallback;
          }

          let { response } = await callEndpoint('POST');

          if (!response.ok && response.status === 405) {
            // Some hosts may block POST to PHP endpoints by default. Try a GET fallback.
            ({ response } = await callEndpoint('GET'));
          }

          if (!response.ok) {
            const message = await parseError(response);
            throw new Error(message);
          }

          const data = await response.json().catch(() => null);
          if (!data || !data.url) {
            throw new Error('Missing Paysera URL in response');
          }

          return data.url;
        }

        form.addEventListener('submit', async (event) => {
          event.preventDefault();

          if (!form.checkValidity()) {
            form.reportValidity();
            return;
          }

          if (submitButton) {
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting and redirecting to Paysera…';
          }

          const orderId = `STC-${Date.now()}`;
          const formData = new FormData(form);

          try {
            const payseraUrl = await fetchPayseraUrl(formData, orderId);
            if (orderField) orderField.value = orderId;
            nextField.value = payseraUrl;
            form.submit();
          } catch (error) {
            alert(error.message || 'Could not generate Paysera link. Please try again.');
            if (submitButton) {
              submitButton.disabled = false;
              submitButton.textContent = 'Submit Application & Pay €250';
            }
          }
        });
      })();
    </script>
    <script>
    (function() {
      const navToggle = document.querySelector('.nav-toggle');
      const navList = document.querySelector('.main-nav ul');

      if (navToggle && navList) {
        const updateMenu = (expanded) => {
          navList.classList.toggle('collapsed', !expanded);
          navList.classList.toggle('open', expanded);
          navToggle.setAttribute('aria-expanded', String(expanded));
        };

        updateMenu(false);

        navToggle.addEventListener('click', () => {
          const shouldExpand = navList.classList.contains('collapsed');
          updateMenu(shouldExpand);
        });
      }
    })();
  </script>
  </body>
</html>
